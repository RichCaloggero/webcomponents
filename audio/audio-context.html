<link rel="import" href="/bower_components/polymer/polymer-element.html">

<script>
"use strict";
class _AudioContext_ extends Polymer.Element {
static get is() { return "audio-context"; }

static get properties() {
return {
name: {
type: String,
value: ""
} // name
}; // return
} // get properties

constructor () {
super ();
if (! window.AudioContext) {
alert ("webaudio not available");
return;
} // if

if (window.audio) {
//alert ("only one audio context per document");
} else {
window.audio = new AudioContext();
} // if

this.audio = window.audio;
} // constructor

contextCheck (name) {
var parentName = this.parentNode.localName;
//alert ("parentName: " + parentName);
if (parentName !== "audio-series" && parentName !== "audio-parallel") {
alert (`${name} : element must be child of audio-parallel or audio-series to participate in audio graph`);
//throw new Error ("audio graph error");
return false;
} // if

return true;
} // contextCheck


} // class _AudioContext_

window.customElements.define(_AudioContext_.is, _AudioContext_);
</script>
